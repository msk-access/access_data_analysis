# Convert output of Rscript (filter_calls.R) CSV file to MAF

Tool does the following operations:

* Read one or more files from the inputs
* Removes unwanted columns, modifying the column headers depending on the
  requirements
* Massaging the data frame to make it compatible with MAF format
* Write the data frame to a file in MAF format and Excel format

## Requirements

* pandas
* openpyxl
* typing
* typer

## Example command

### Explicitly specifying files on command line

```bash
python csv_to_maf.py  -i /path/to/Test1.csv -i /path/to/Test2.csv -i /path/to/Test3.csv
```

### Specifying files in a text FileOfFiles

```bash
python csv_to_maf.py  -l /path/to/FileOfFiles.txt
```

where **FileOfFiles.txt**
```bash
> cat FileOfFiles.txt
/path/to/Test1.csv
/path/to/Test2.csv
/path/to/Test3.csv
```

### Keeping normal samples identified using "normal" string, by default they are filtered

```bash
python csv_to_maf.py  -n -i /path/to/Test1.csv -i /path/to/Test2.csv -i /path/to/Test3.csv
# OR
python csv_to_maf.py  -n -l /path/to/FileOfFiles.txt
```

## Usage

```bash
> python csv_to_maf.py --help
Usage: csv_to_maf.py [OPTIONS]

  Tool does the following operations:

  A. Read one or more files from the inputs

  B. Removes unwanted columns, modifying the column headers depending on the
  requirements

  C. Massaging the data frame to make it compatible with MAF format

  D. Write the data frame to a file in MAF format and Excel format

  Requirement: pandas; openpyxl; typing; typer;

Options:
  -l, --list PATH                 File of files, List of CSV files to be
                                  converted to maf, one per line, no header,
                                  CSV file generated by Rscript filter_calls.R
                                  [default: ]

  -i, --csv FILE                  File to convert from csv to maf. CSV file
                                  generated by Rscript filter_calls.R, Can be
                                  given multiple times  [default: ]

  -n, --normal / -N, --keep-normal
                                  Keep samples tagged as normal  [default:
                                  False]

  -p, --prefix TEXT               Prefix of the output MAF and EXCEL file
                                  [default: csv_to_maf_output]

  --install-completion            Install completion for the current shell.
  --show-completion               Show completion for the current shell, to
                                  copy it or customize the installation.

  --help                          Show this message and exit.
```
